Based on the idea presented here:

https://groups.google.com/a/tensorflow.org/g/magenta-discuss/c/tRrth7wXF6U